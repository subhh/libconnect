<f:layout name="Default" />

<f:section name="main">
{namespace libconnect=Subhh\Libconnect\ViewHelpers}
<h1 class="libconnect-h1"><f:translate key="tx_libconnect.dbis.search.results" /></h1>

<p><f:translate key="tx_libconnect.dbis.search.criterion" /></p>
<f:render partial="Dbis/SearchDescription" arguments="{searchDescription:list.searchDescription}" />

<f:if condition="{list.error}">
    <f:then>
        <p class="hitcount">
            <libconnect:strreplaceNp search="%s" replace="{result.dbs.db_count}">
                <f:translate key="tx_libconnect.dbis.search.hits" />
            </libconnect:strreplaceNp>
        </p>
    </f:then>
    <f:else>
        <h3 class="libconnect-h3"><f:translate key="tx_libconnect.dbis.list.legend.headline" /></h3>

        <f:render partial="Dbis/ListLegend" arguments="{access_infos:list.access_infos}" />

        <f:if condition="{result.top}">
            <div class="top-database-wrapper">
                <h3 class="libconnect-h1"><f:translate key="tx_libconnect.dbis.list.topdatabases" /></h3>
                <f:render partial="Dbis/TopList" arguments="{top:result.top.list, detailPid:detailPid}" />
            </div>
        </f:if>

        <p class="hitcount">
            <libconnect:strreplaceNP search="%s" replace="{result.dbs.db_count}">
                <f:translate key="tx_libconnect.dbis.search.hits" />
            </libconnect:strreplaceNP>
        </p>


        <f:render partial="Dbis/DbList" arguments="{list:result.dbs.list, detailPid:detailPid}" />

    </f:else>
</f:if>

<f:asset.css identifier="dbis" href="EXT:libconnect/Resources/Public/Css/dbis.css" />
</f:section>
