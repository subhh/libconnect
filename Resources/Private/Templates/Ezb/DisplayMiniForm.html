<f:layout name="Default" />

<f:section name="main">
<div class="datenbank-suche-wrapper">
    <h2 class="ezb">
        <f:translate key="tx_libconnect.ezb.miniform.searchform.headline" />
    </h2>
    <f:form name="ezb-mini-form" id="ezb-mini-form" controller="Ezb" method="get" pageUid="{listPid}">
        <label for="libconnect_ezb_minisuche" class="hiddenezb">
            <f:translate key="tx_libconnect.ezb.miniform.searchform.label" />
        </label>
        <f:form.textfield type="text" id="libconnect_ezb_minisuche" name="libconnect[sword]" value="{vars.sword}" size="20"/>

        <f:form.submit name="submit" value='<f:translate key="tx_libconnect.submit.search" />'/>
        <f:if condition="{searchPid}">
        <p>
            <f:link.page pageUid="{searchPid}">
                <f:translate key="tx_libconnect.ezb.miniform.link.extended_search" />
            </f:link.page>
        </p>
        </f:if>
    </f:form>    
</div>

<div class="ezb-listings-wrapper">
    <f:if condition="{showSubjectLink}">
        <f:then>
            <p>
                <f:link.page pageUid="{listPid}" addQueryString="0">
                    <f:translate key="tx_libconnect.ezb.miniform.link.allsubjects" />
                </f:link.page>	
            </p>
        </f:then>
        <f:else>
            <h2 class="ezb-sort"><f:translate key="tx_libconnect.ezb.miniform.link.sort" /></h2>
            <p>
                <f:link.page pageUid="{listPid}" addQueryString="0">
                    <f:translate key="tx_libconnect.ezb.miniform.link.subject" />
                </f:link.page>	
            </p>

            <p>
                <f:link.page pageUid="{listPid}" additionalParams="{libconnect: {notation:'ALL'}}" addQueryString="0">
                    <f:translate key="tx_libconnect.ezb.miniform.link.alphabetical" />
                </f:link.page>
            </p>
        </f:else>
    </f:if>
</div>

<f:if condition="{newInSubjectCount}">
    <div class="ezb-listings-wrapper">
        <p id="ezb-newminiSub">
            <f:link.page pageUid="{newPid}" additionalParams="{libconnect: {notation: '{notation}'}}"><f:translate key="tx_libconnect.ezb.miniform.new.subject" /><span class="newcount"> ({newInSubjectCount})</span></f:link.page>
        </p>
    </div>
</f:if>

<f:if condition="{newPid}">    
    <div class="ezb-listings-wrapper">
        <p id="ezb-newmini">
            <f:link.page pageUid="{newPid}">
                <f:translate key="tx_libconnect.ezb.miniform.new.all" /><span class="newcount"> ({newCount})</span>
            </f:link.page>
        </p>
    </div>
</f:if>

<f:asset.css identifier="ezb" href="EXT:libconnect/Resources/Public/Css/ezb.css" />
</f:section>
